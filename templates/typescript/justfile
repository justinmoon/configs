#!/usr/bin/env just --justfile

# Show available commands
default:
    @just --list

# Run all CI checks
ci:
    nix run .#ci

# Run development server
dev:
    bun run src/index.ts

# Run tests
test:
    bun test

# Type check
typecheck:
    tsc --noEmit

# Lint code
lint:
    biome check .

# Lint and fix
lint-fix:
    biome check --write .

# Format code
fmt:
    biome format --write .

# Format check (CI)
fmt-check:
    biome format .

# Install dependencies
install:
    bun install

# Build project
build:
    bun build src/index.ts --outdir=dist --target=bun

# Clean build artifacts
clean:
    rm -rf dist node_modules

# Update dependencies
update:
    bun update
