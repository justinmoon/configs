# Ghostty Configuration - Nord Theme

# Shell
shell-integration = fish
shell-integration-features = no-cursor
command = /etc/profiles/per-user/justin/bin/fish

# Window
window-padding-x = 15
window-padding-y = 10
# Hide window decorations (titlebar) - useful for tiling WMs like i3
window-decoration = false

# Font
font-family = "FiraCode Nerd Font Mono"
font-size = 16
# font-thicken = true
# font-feature = -liga
# font-feature = -calt
# adjust-cell-height = 2

# Terminal
term = xterm-256color
macos-option-as-alt = true

# Default theme: nord

background = #2e3440
foreground = #d8dee9
cursor-color = #d8dee9
cursor-text = #2e3440
selection-background = #4c566a
selection-foreground = #d8dee9
palette = 0=#3b4252
palette = 1=#bf616a
palette = 2=#a3be8c
palette = 3=#ebcb8b
palette = 4=#81a1c1
palette = 5=#b48ead
palette = 6=#88c0d0
palette = 7=#e5e9f0
palette = 8=#4c566a
palette = 9=#bf616a
palette = 10=#a3be8c
palette = 11=#ebcb8b
palette = 12=#81a1c1
palette = 13=#b48ead
palette = 14=#8fbcbb
palette = 15=#eceff4

# Load active theme overrides if present (generated by bin/colorscheme)
config-file = ?~/.local/state/colorscheme/ghostty.conf

# Load host-specific overrides (generated by home-manager)
config-file = ~/.config/ghostty/host-overrides

# Key Bindings

# Clear scrollback
keybind = cmd+k=clear_screen

# Paste
keybind = cmd+v=paste_from_clipboard

# Font size controls
keybind = cmd+0=reset_font_size
keybind=super+shift+plus=increase_font_size:1
keybind=super+shift+minus=decrease_font_size:1

# New window
keybind = cmd+shift+n=new_window

# Tmux integration - new tab
keybind = cmd+t=text:\x00c

# Checkout switcher (tmux prefix + K/C)
keybind = alt+t=text:\x00K
keybind = alt+n=text:\x00C

# Kill current pane
keybind = cmd+w=text:\x00x

# Split tmux window
keybind = cmd+minus=text:\x00"
keybind = cmd+backslash=text:\x00%

# Select tmux windows 1-9 (send Ctrl-Space prefix + digit)
keybind = cmd+1=text:\x00\x31
keybind = cmd+2=text:\x00\x32
keybind = cmd+3=text:\x00\x33
keybind = cmd+4=text:\x00\x34
keybind = cmd+5=text:\x00\x35
keybind = cmd+6=text:\x00\x36
keybind = cmd+7=text:\x00\x37
keybind = cmd+8=text:\x00\x38
keybind = cmd+9=text:\x00\x39

# Reload tmux config
keybind = cmd+r=text:\x00r

# Yeet orchestration status (Cmd+I -> Escape+i for Alt+I)
keybind = cmd+i=text:\x1bi
keybind = cmd+u=text:\x00k

# Yeet command palette (Cmd+O -> Ctrl+O)
keybind = cmd+o=text:\x0f

# Window swapping commands
keybind = cmd+shift+s=text:\x00s  # Tmux swap window command
keybind = cmd+shift+m=text:\x00m  # Tmux move window command

# Detach
keybind = cmd+d=text:\x00d

# Next/previous window
keybind = cmd+n=text:\x00n
keybind = cmd+p=text:\x00p

# Fullscreen pane
keybind = cmd+f=text:\x00z

# Navigate panes with vim keys
keybind = cmd+l=text:\x00\x1b[C
keybind = cmd+h=text:\x00\x1b[D
keybind = cmd+k=text:\x00\x1b[A
keybind = cmd+j=text:\x00\x1b[B

# Re-order tmux windows (sends C-S-Left/Right)
keybind = cmd+shift+left_bracket=text:\x1b[1;6D
keybind = cmd+shift+right_bracket=text:\x1b[1;6C

# Close window
keybind = cmd+shift+w=close_window

# Copy mode with search - enters copy mode and starts search
keybind = cmd+slash=text:\x00[/

# Rename pane
keybind = cmd+comma=text:\x00,

# Command mode
keybind = cmd+semicolon=text:\x00:

# Toggle fullscreen
keybind = cmd+shift+f=toggle_fullscreen

# Mouse support
mouse-hide-while-typing = true

# Copy on select
copy-on-select = clipboard
